(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e88fb10"],{"04be":function(t,e,a){"use strict";a("9ead")},1511:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"user"}},[a("div",{staticClass:"menu"},[a("span",{staticClass:"sta"},[t._v(" 总用户:"+t._s(t.total)+" 总余额:"+t._s(t.ye)+" ")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh"},on:{click:function(e){return t.change_page(t.page)}}}),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:t.add}},[t._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"my-class":"order_table",stripe:"",border:"",height:"600px",data:t.tableData,"cell-style":t.cell_style},on:{"cell-click":t.cell_click}},[a("el-table-column",{attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"name",label:"用户名"}}),a("el-table-column",{attrs:{prop:"pwd",label:"密码",formatter:t.pwd_form}}),a("el-table-column",{attrs:{prop:"fee",label:"手续费率"}}),a("el-table-column",{attrs:{prop:"money",label:"余额"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",formatter:t.type_form}}),a("el-table-column",{attrs:{prop:"qkey",label:"请求参数","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"last_login",label:"最近登录",width:"160"}}),a("el-table-column",{attrs:{prop:"note",label:"备注","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"channel_id",label:"通道id","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"channel_key",label:"通道key","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"host",label:"通道网关","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"moneys",label:"支持金额","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"page-size":t.page_size,layout:"prev, pager, next",total:t.total},on:{"current-change":t.change_page}})],1)},i=[],o=a("a649"),s=(a("b0c0"),{name:"order",data:function(){return{page:1,page_size:40,total:1,tableData:[],ye:0}},methods:{change_page:function(t){this.$api.do(this.$path.users,{page:t},function(t){Object(o["a"])(this,this),this.tableData=t.data.users,this.ye=t.data.ye,this.total=t.count}.bind(this))},js_format:function(t){return 0==t.kl?"否":"是"},sjkl_format:function(t){return 0==t.sjkl?"否":"是"},type_form:function(t){switch(t.type){case 0:return"普通账号";case 1:return"管理员";case 2:return"核销账号";default:return"其他"}},pwd_form:function(){return"已加密"},del:function(t){this.$confirm("删除后不可恢复, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o["a"])(this,this),this.$api.do(this.$path.del_user,{id:t},function(){Object(o["a"])(this,this),this.change_page(1)}.bind(this))}.bind(this)).catch(function(){Object(o["a"])(this,this)}.bind(this))},add:function(){this.$prompt("请输入账户名称(新建后要记得修改密码)","新增账号",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[0-9a-zA-Z_]{6,}$/,inputErrorMessage:"必须是数字字母下划线组合,且至少6位"}).then(function(t){var e=t.value;Object(o["a"])(this,this),this.$api.do(this.$path.add_user,{name:e},function(t){Object(o["a"])(this,this),this.change_page(1)}.bind(this))}.bind(this))},cell_click:function(t,e,a,n){var i="",s="",l=/^[*]{1,}$/,r="";switch(e.property){case"money":i="请输入充值金额",s="您正在充值",l=/\d{1,}/,r="必须输入纯数字";break;case"name":i="请输入新用户名",s="您正在修改用户名",l=/[0-9a-zA-Z]{6,12}/,r="必须6-12位字母或数字";break;case"pwd":i="请输入新密码",s="您正在修改密码",l=/[0-9a-zA-Z]{6,12}/,r="必须6-12位字母或数字";break;case"fee":i="请输入通道费率",s="您正在修改通道费率",l=/^0.?\d*$/,r="必须是0-1之间的小数(包含0)";break;case"note":i="请输入备注",s="您正在修改备注",l="",r="";break;case"kl":i="输入:0表示关闭,1表示开启",s="开启或关闭扣量",l=/^[01]{1}$/,r="只能输入0或者1";break;case"kl_fee":i="输入扣量概率:例如0.1表示扣量10%",s="您正在修改扣量概率",l=/^0.?\d*$/,r="只能0-1之间的小数(包含0)";break;case"channel_id":i="输入通道id",s="您正在修改扣量概率",l="",r="";break;case"channel_key":i="输入通道key",s="您正在修改扣量概率",l="",r="";break;case"host":i="输入通道网关",s="您正在修改通道网关",l="",r="";break;case"moneys":i="输入支持金额用-分割(只能支持4个值),例如 921-720-531-301",s="输入支持金额",l="",r="";break;case"qkey":return this.$prompt("刷新后旧的apk包立即失效","用户请求参数,需要打包到apk中",{inputValue:t[e.property],confirmButtonText:"刷新(危险操作)",cancelButtonText:"取消",closeOnClickModal:!1}).then(function(a){a.value;Object(o["a"])(this,this),this.$confirm("刷新后此用户所有apk包都会失效, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){Object(o["a"])(this,this),this.$api.do(this.$path.fix_user,{id:t.id,k:e.property,v:""},function(t){Object(o["a"])(this,this),this.change_page(1)}.bind(this))}.bind(this)).catch(function(){Object(o["a"])(this,this);var t="123";t=interval(t)}.bind(this))}.bind(this)).catch(function(){Object(o["a"])(this,this)}.bind(this)),!1}if(""==i)return!1;this.$prompt(i,s+"(用户"+t.name+")",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:l,inputErrorMessage:r,inputValue:t[e.property]}).then(function(a){var n=a.value;Object(o["a"])(this,this),this.$api.do(this.$path.fix_user,{id:t.id,k:e.property,v:n},function(t){Object(o["a"])(this,this),this.change_page(1)}.bind(this))}.bind(this)).catch(function(){Object(o["a"])(this,this)}.bind(this))},cell_style:function(t){var e=t.column.property;if("id"!=e&&"last_login"!=e&&"type"!=e)return{color:"#409eff"}}},mounted:function(){this.change_page(1)}}),l=s,r=(a("04be"),a("d3de"),a("2877")),c=Object(r["a"])(l,n,i,!1,null,"40e3371e",null);e["default"]=c.exports},"9ead":function(t,e,a){},c098b:function(t,e,a){},d3de:function(t,e,a){"use strict";a("c098b")}}]);