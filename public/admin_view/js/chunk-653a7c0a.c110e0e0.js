(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-653a7c0a"],{1511:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"user"}},[a("div",{staticClass:"menu"},[a("span",{staticClass:"sta"},[t._v(" 总用户:"+t._s(t.total)+" 总余额:"+t._s(t.ye)+" ")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh"},on:{click:function(e){return t.change_page(t.page)}}}),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:t.add}},[t._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"my-class":"order_table",stripe:"",border:"",height:"600px",data:t.tableData,"cell-style":t.cell_style},on:{"cell-click":t.cell_click}},[a("el-table-column",{attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"name",label:"用户名"}}),a("el-table-column",{attrs:{prop:"pwd",label:"密码",formatter:t.pwd_form}}),a("el-table-column",{attrs:{prop:"fee",label:"手续费率"}}),a("el-table-column",{attrs:{prop:"money",label:"余额"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",formatter:t.type_form}}),a("el-table-column",{attrs:{prop:"last_login",label:"最近登录",width:"160"}}),a("el-table-column",{attrs:{prop:"note",label:"备注"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"page-size":t.page_size,layout:"prev, pager, next",total:t.total},on:{"current-change":t.change_page}})],1)},i=[],r=a("a649"),s=(a("b0c0"),{name:"order",data:function(){return{page:1,page_size:40,total:1,tableData:[],ye:0}},methods:{change_page:function(t){this.$api.do(this.$path.users,{page:t},function(t){Object(r["a"])(this,this),this.tableData=t.data.users,this.ye=t.data.ye,this.total=t.count}.bind(this))},js_format:function(t){return 0==t.kl?"否":"是"},sjkl_format:function(t){return 0==t.sjkl?"否":"是"},type_form:function(t){return 0==t.type?"普通客户":"管理员"},pwd_form:function(){return"已加密"},del:function(t){this.$confirm("删除后不可恢复, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["a"])(this,this),this.$api.do(this.$path.del_user,{id:t},function(){Object(r["a"])(this,this),this.change_page(1)}.bind(this))}.bind(this)).catch(function(){Object(r["a"])(this,this)}.bind(this))},add:function(){this.$prompt("请输入账户名称(新建后要记得修改密码)","新增账号",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[0-9a-zA-Z_]{6,}$/,inputErrorMessage:"必须是数字字母下划线组合,且至少6位"}).then(function(t){var e=t.value;Object(r["a"])(this,this),this.$api.do(this.$path.add_user,{name:e},function(t){Object(r["a"])(this,this),this.change_page(1)}.bind(this))}.bind(this))},cell_click:function(t,e,a,n){var i="",s="",c=/^[*]{1,}$/,l="";switch(e.property){case"money":i="请输入充值金额",s="您正在充值",c=/\d{1,}/,l="必须输入纯数字";break;case"name":i="请输入新用户名",s="您正在修改用户名",c=/[0-9a-zA-Z]{6,12}/,l="必须6-12位字母或数字";break;case"pwd":i="请输入新密码",s="您正在修改密码",c=/[0-9a-zA-Z]{6,12}/,l="必须6-12位字母或数字";break;case"fee":i="请输入通道费率",s="您正在修改通道费率",c=/^0.?\d*$/,l="必须是0-1之间的小数(包含0)";break;case"note":i="请输入备注",s="您正在修改备注",c="",l="";break;case"kl":i="输入:0表示关闭,1表示开启",s="开启或关闭扣量",c=/^[01]{1}$/,l="只能输入0或者1";break;case"kl_fee":i="输入扣量概率:例如0.1表示扣量10%",s="您正在修改扣量概率",c=/^0.?\d*$/,l="只能0-1之间的小数(包含0)";break}if(""==i)return!1;this.$prompt(i,s+"(用户"+t.name+")",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:c,inputErrorMessage:l,inputValue:t[e.property]}).then(function(a){var n=a.value;Object(r["a"])(this,this),this.$api.do(this.$path.fix_user,{id:t.id,k:e.property,v:n},function(t){Object(r["a"])(this,this),this.change_page(1)}.bind(this))}.bind(this)).catch(function(){Object(r["a"])(this,this)}.bind(this))},cell_style:function(t){var e=t.column.property;if("id"!=e&&"last_login"!=e&&"type"!=e)return{color:"#409eff"}}},mounted:function(){this.change_page(1)}}),c=s,l=(a("4593"),a("d3de"),a("2877")),o=Object(l["a"])(c,n,i,!1,null,"4bd48b38",null);e["default"]=o.exports},"3e39":function(t,e,a){},4593:function(t,e,a){"use strict";a("3e39")},c098b:function(t,e,a){},d3de:function(t,e,a){"use strict";a("c098b")}}]);